import{r as l,R as e}from"./app.07e11592.js";const f=({bolao:s})=>{const[n,r]=l.exports.useState(""),[o,c]=l.exports.useState([]),[m,i]=l.exports.useState(0),[d,p]=l.exports.useState([]),u=t=>{t.preventDefault(),axios.post("/api/getJogosGE",{url:n}).then(a=>{c(a.data.jogos||[]),i(a.data.rodada||0),p(a.data.outros||[])}).catch(a=>{console.log(a)})},b=()=>{const t=o.map(a=>{let E=(a==null?void 0:a.horario.length)>15?`${a.horario}:00`:`${s.termino} 23:59:00`;return{rodada:m,bolao_id:s.bolao_id,inicio:E,timecasa_id:a.mandante.id,timefora_id:a.visitante.id,campeonato_id:s.campeonato_id}});axios.post("/api/salvarJogos",{jogos:t}).then(a=>{r(""),c([]),i(0),p([]),a.data.error||toast.success(a.data.message)}).catch(a=>{console.log(a)})};return e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg text-gray-600 dark:bg-slate-800 dark:text-slate-300"},e.createElement("div",{className:"p-3 sm:p-6 border-gray-200"},e.createElement("form",{onSubmit:u,className:"pb-8"},e.createElement("label",{className:"block mb-2"},e.createElement("span",{className:""},"URL:"),e.createElement("div",{className:"flex"},e.createElement("input",{name:"url",type:"text",placeholder:"Digite a url",className:"vb-custom-input mr-4",value:n,onChange:t=>r(t.target.value)}),e.createElement("button",{type:"submit",className:"btn-primary"},"Pesquisar"))),e.createElement("span",{className:"text-sm text-gray-500"},"https://api.globoesporte.globo.com/tabela/4b20b911-f174-4958-9be8-4033dc74f970/fase/primeira-fase-paulista-2023/rodada/1/jogos",e.createElement("br",null),"https://api.globoesporte.globo.com/tabela/d1a37fa4-e948-43a6-ba53-ab24ab3a45b1/fase/fase-unica-campeonato-brasileiro-2023/rodada/1/jogos")),d.length>0&&e.createElement("div",{className:"flex flex-col"},e.createElement("h3",{className:"font-bold"},"Times n\xE3o encontrados:"),d.map((t,a)=>e.createElement("span",{key:a},t))),o.length>0&&e.createElement("div",null,e.createElement("h2",{className:"text-xl mb-4 font-bold"},s.nome," - Rodada ",m),o.map((t,a)=>e.createElement("div",{key:a,className:"flex gap-1 mb-2 font-bold uppercase"},e.createElement("span",null,a+1," - "),e.createElement("span",null,t.horario),e.createElement("span",null,"-"),e.createElement("span",null,t.mandante.nome),e.createElement("span",null,"x"),e.createElement("span",null,t.visitante.nome))),e.createElement("div",{className:"py-4"},e.createElement("button",{type:"button",className:"btn-primary",onClick:b},"Salvar Jogos")))))};export{f as default};
