import{r as d,R as e,d as f}from"./app.8ef92b6b.js";import{A as y,a as A,b as k,C,c as I,E as S}from"./helpers.8b9d716c.js";const T=({bolao:s,jogos:o,rodada:n,user:r})=>{const[p,m]=d.exports.useState(!1),[i,E]=d.exports.useState(!1),[l,h]=d.exports.useState({jogo:0,casa:null,fora:null}),b=d.exports.useRef(),v=(a,t)=>{(l.jogo===0||t.id===l.jogo)&&h({...l,jogo:t.id,[a.target.name.split("_")[1]]:+a.target.value})},x=(a,t)=>{t.id===l.jogo&&l.casa!==null&&l.fora!==null&&g(t)},w=()=>{E(!i),!i&&s.rodada>16&&setTimeout(()=>{b.current.scrollTo({top:48*(s.rodada/4),behavior:"smooth"})},500)},u=a=>{a>0&&(E(!1),f.Inertia.get(`/jogos?rodada=${a}`,{},{preserveScroll:!0}))},N=a=>new Date().getTime()>a*1e3,g=a=>{const t={placar_casa:l.casa,placar_fora:l.fora};f.Inertia.visit(`/jogos/${a.id}`,{method:"PUT",data:t,preserveScroll:!0,onStart:()=>m(!0),onFinish:()=>m(!1)})},_=()=>{f.Inertia.visit(`/updateRodada/${s.campeonato_id}`,{method:"PUT",data:{rodada:n},preserveScroll:!0,onStart:()=>m(!0),onFinish:()=>m(!1)})};return e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg text-gray-600 dark:bg-slate-800 dark:text-slate-300"},(o.length>0||n>0)&&e.createElement("div",{className:"flex flex-wrap justify-between"},e.createElement("div",null,e.createElement("div",{className:i?"vb-btn-group open":"vb-btn-group"},e.createElement("button",{onClick:()=>u(+n-1),disabled:+n==1},y),e.createElement("button",{onClick:w},e.createElement("span",{className:"flex items-center justify-center"},n,"\xAA Rodada ",A)),e.createElement("button",{onClick:()=>u(+n+1),disabled:s.qtd_rodadas===+n},k)),i&&e.createElement("div",{ref:b,className:"vb-dropdown"},[...Array(s.qtd_rodadas).keys()].map((a,t)=>e.createElement("button",{key:t,onClick:()=>u(a+1),className:s.rodada===a+1?"active":""},a+1,"\xAA")))),(r.master||r.manager)&&n!=s.rodada&&e.createElement("div",{className:"flex p-3 sm:p-6 pb-0 sm:pb-0"},e.createElement("button",{className:"btn-primary",onClick:_},"Atual?"))),o.length>0?e.createElement("div",{className:"p-3 sm:p-6 border-gray-200"},e.createElement("div",{className:"flex justify-between flex-row border-b-2 p-2 font-bold bg-slate-800 dark:bg-slate-900 text-white rounded-t-lg dark:border-slate-500"},e.createElement("div",{className:"px-2 text-center"},"Status"),e.createElement("div",{className:"px-2 flex text-center truncate"},"Jogos"),e.createElement("div",{className:"px-2 text-center"},"A\xE7\xF5es")),o.map((a,t)=>e.createElement("div",{key:t,className:"flex flex-col gap-1"},e.createElement("div",{className:"flex text-sm justify-center pt-2 gap-1"},p?e.createElement("strong",{className:"capitalize"},"Salvando..."):e.createElement("strong",{className:"capitalize"},`${s.termino} 23:59:00`==a.inicio?"DATA INDEFINIDA":a.inicio_format)),e.createElement("div",{className:"flex items-center justify-between border-b-2 pb-2 gap-2 dark:border-slate-500"},e.createElement("div",{className:"text-center"},a.placar_fora!==null?C:I),e.createElement("div",{className:"flex items-center justify-center gap-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"vb-sigla-time"},a.timecasa.sigla),e.createElement("span",{className:"w-48 hidden sm:flex justify-end truncate"},a.timecasa.nome),e.createElement("img",{alt:a.timecasa.nome,className:"vb-escudo-time",src:a.timecasa.escudo_url})),e.createElement("div",{className:"flex items-center gap-2"},(r.master||r.manager)&&a.placar_casa===null?e.createElement("input",{min:"0",type:"number",name:"placar_casa",className:"vb-input-jogos",onBlur:c=>x(c,a),onChange:c=>v(c,a),disabled:p||!N(a.inicio_timestamp)}):e.createElement("span",{className:"vb-placar-number"},a.placar_casa),e.createElement("span",null,"x"),(r.master||r.manager)&&a.placar_fora===null?e.createElement("input",{min:"0",type:"number",name:"placar_fora",className:"vb-input-jogos",onBlur:c=>x(c,a),onChange:c=>v(c,a),disabled:p||!N(a.inicio_timestamp)}):e.createElement("span",{className:"vb-placar-number"},a.placar_fora)),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("img",{alt:a.timefora.nome,className:"vb-escudo-time",src:a.timefora.escudo_url}),e.createElement("span",{className:"w-48 hidden sm:flex truncate"},a.timefora.nome),e.createElement("span",{className:"vb-sigla-time"},a.timefora.sigla))),e.createElement("div",{className:"w-6"},(r.master||r.manager)&&a.placar_fora!==null&&e.createElement("button",{onClick:()=>g(a)},S)))))):e.createElement("div",{id:"box-empty"},"N\xE3o existem dados para listar!"))};export{T as default};
