import{r as s,R as e,_ as b}from"./app.6a27ac74.js";const x=({bolao:o})=>{const[n,r]=s.exports.useState(""),[l,c]=s.exports.useState([]),[m,i]=s.exports.useState(0),[d,p]=s.exports.useState([]),u=t=>{t.preventDefault(),axios.post("/api/getJogosGE",{url:n}).then(a=>{c(a.data.jogos||[]),i(a.data.rodada||0),p(a.data.outros||[])}).catch(a=>{console.log(a)})},E=()=>{const t=l.map(a=>({rodada:m,bolao_id:o.bolao_id,inicio:`${a.horario}:00`,timecasa_id:a.mandante.id,timefora_id:a.visitante.id,campeonato_id:o.campeonato_id}));axios.post("/api/salvarJogos",{jogos:t}).then(a=>{r(""),c([]),i(0),p([]),a.data.error||b.success(a.data.message)}).catch(a=>{console.log(a)})};return e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg text-gray-600"},e.createElement("div",{className:"p-3 sm:p-6 border-gray-200"},e.createElement("form",{onSubmit:u,className:"pb-8"},e.createElement("label",{className:"block"},e.createElement("span",{className:""},"URL:"),e.createElement("div",{className:"flex"},e.createElement("input",{name:"url",type:"text",placeholder:"Digite a url",className:"vb-custom-input mr-4",value:n,onChange:t=>r(t.target.value)}),e.createElement("button",{type:"submit",className:"btn-primary"},"Pesquisar"))),e.createElement("span",{className:"text-sm text-gray-500"},"Ex: https://api.globoesporte.globo.com/tabela/4b20b911-f174-4958-9be8-4033dc74f970/fase/primeira-fase-paulista-2023/rodada/1/jogos")),d.length>0&&e.createElement("div",{className:"flex flex-col"},e.createElement("h3",{className:"font-bold"},"Times n\xE3o encontrados:"),d.map((t,a)=>e.createElement("span",{key:a},t))),l.length>0&&e.createElement("div",null,e.createElement("h2",{className:"text-xl mb-4 font-bold"},o.nome," - Rodada ",m),l.map((t,a)=>e.createElement("div",{key:a,className:"flex gap-1 mb-2 font-bold uppercase"},e.createElement("span",null,a+1," - "),e.createElement("span",null,t.horario),e.createElement("span",null,"-"),e.createElement("span",null,t.mandante.nome),e.createElement("span",null,"x"),e.createElement("span",null,t.visitante.nome))),e.createElement("div",{className:"py-4"},e.createElement("button",{type:"button",className:"btn-primary",onClick:E},"Salvar Jogos")))))};export{x as default};
