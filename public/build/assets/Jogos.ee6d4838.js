import{r as u,R as e,d as f}from"./app.8bbc0a86.js";import{A as w,a as _,b as y,C as A,c as k,E as C}from"./helpers.3bf69e19.js";const R=({bolao:c,jogos:i,rodada:s,user:l})=>{const[d,m]=u.exports.useState(!1),[o,E]=u.exports.useState(!1),[n,g]=u.exports.useState({jogo:0,casa:null,fora:null}),b=(a,t)=>{(n.jogo===0||t.id===n.jogo)&&g({...n,jogo:t.id,[a.target.name.split("_")[1]]:+a.target.value})},v=(a,t)=>{t.id===n.jogo&&n.casa!==null&&n.fora!==null&&N(t)},p=a=>{a>0&&(E(!1),f.Inertia.get(`/jogos?rodada=${a}`,{},{preserveScroll:!0}))},x=a=>new Date().getTime()>a*1e3,N=a=>{const t={placar_casa:n.casa,placar_fora:n.fora};f.Inertia.visit(`/jogos/${a.id}`,{method:"PUT",data:t,preserveScroll:!0,onStart:()=>m(!0),onFinish:()=>m(!1)})},h=()=>{f.Inertia.visit(`/updateRodada/${c.campeonato_id}`,{method:"PUT",data:{rodada:s},preserveScroll:!0,onStart:()=>m(!0),onFinish:()=>m(!1)})};return e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg text-gray-600 dark:bg-slate-800 dark:text-slate-300"},(i.length>0||s>0)&&e.createElement("div",{className:"flex flex-wrap justify-between"},e.createElement("div",null,e.createElement("div",{className:o?"vb-btn-group open":"vb-btn-group"},e.createElement("button",{onClick:()=>p(+s-1),disabled:+s==1},w),e.createElement("button",{onClick:()=>E(!o)},e.createElement("span",{className:"flex items-center justify-center"},s,"\xAA Rodada ",_)),e.createElement("button",{onClick:()=>p(+s+1),disabled:c.qtd_rodadas===+s},y)),o&&e.createElement("div",{className:"vb-dropdown"},[...Array(c.qtd_rodadas).keys()].map((a,t)=>e.createElement("button",{key:t,onClick:()=>p(a+1)},a+1,"\xAA")))),(l.master||l.manager)&&s!=c.rodada&&e.createElement("div",{className:"flex p-3 sm:p-6 pb-0 sm:pb-0"},e.createElement("button",{className:"btn-primary",onClick:h},"Atual?"))),i.length>0?e.createElement("div",{className:"p-3 sm:p-6 border-gray-200"},e.createElement("div",{className:"flex justify-between flex-row border-b-2 p-2 font-bold bg-slate-800 dark:bg-slate-900 text-white rounded-t-lg dark:border-slate-500"},e.createElement("div",{className:"px-2 text-center"},"Status"),e.createElement("div",{className:"px-2 flex text-center truncate"},"Jogos"),e.createElement("div",{className:"px-2 text-center"},"A\xE7\xF5es")),i.map((a,t)=>e.createElement("div",{key:t,className:"flex flex-col gap-1"},e.createElement("div",{className:"flex text-sm justify-center pt-2 gap-1"},d?e.createElement("strong",{className:"capitalize"},"Salvando..."):e.createElement("strong",{className:"capitalize"},`${c.termino} 23:59:00`==a.inicio?"DATA INDEFINIDA":a.inicio_format)),e.createElement("div",{className:"flex items-center justify-between border-b-2 pb-2 gap-2 dark:border-slate-500"},e.createElement("div",{className:"text-center"},a.placar_fora!==null?A:k),e.createElement("div",{className:"flex items-center justify-center gap-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"vb-sigla-time"},a.timecasa.sigla),e.createElement("span",{className:"w-28 hidden sm:flex justify-end truncate"},a.timecasa.nome),e.createElement("img",{alt:a.timecasa.nome,className:"vb-escudo-time",src:a.timecasa.escudo_url})),e.createElement("div",{className:"flex items-center gap-2"},(l.master||l.manager)&&a.placar_casa===null?e.createElement("input",{min:"0",type:"number",name:"placar_casa",className:"vb-input-jogos",onBlur:r=>v(r,a),onChange:r=>b(r,a),disabled:d||!x(a.inicio_timestamp)}):e.createElement("span",{className:"vb-placar-number"},a.placar_casa),e.createElement("span",null,"x"),(l.master||l.manager)&&a.placar_fora===null?e.createElement("input",{min:"0",type:"number",name:"placar_fora",className:"vb-input-jogos",onBlur:r=>v(r,a),onChange:r=>b(r,a),disabled:d||!x(a.inicio_timestamp)}):e.createElement("span",{className:"vb-placar-number"},a.placar_fora)),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("img",{alt:a.timefora.nome,className:"vb-escudo-time",src:a.timefora.escudo_url}),e.createElement("span",{className:"w-28 hidden sm:flex truncate"},a.timefora.nome),e.createElement("span",{className:"vb-sigla-time"},a.timefora.sigla))),e.createElement("div",{className:"w-6"},(l.master||l.manager)&&a.placar_fora!==null&&e.createElement("button",{onClick:()=>N(a)},C)))))):e.createElement("div",{id:"box-empty"},"N\xE3o existem dados para listar!"))};export{R as default};
