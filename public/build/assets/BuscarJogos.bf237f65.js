import{r as s,R as a}from"./app.8c56216c.js";const h=({bolao:l})=>{const[o,r]=s.exports.useState(""),[n,c]=s.exports.useState([]),[m,i]=s.exports.useState(0),[d,p]=s.exports.useState([]),u=t=>{t.preventDefault(),axios.post("/api/getJogosGE",{url:o}).then(e=>{c(e.data.jogos||[]),i(e.data.rodada||0),p(e.data.outros||[])}).catch(e=>{console.log(e)})},b=()=>{const t=n.map(e=>{let E=(e==null?void 0:e.horario.length)>15?`${e.horario}:00`:`${e==null?void 0:e.horario.split(" ")[0]} 12:00:00`;return{rodada:m,bolao_id:l.bolao_id,inicio:E,timecasa_id:e.mandante.id,timefora_id:e.visitante.id,campeonato_id:l.campeonato_id}});axios.post("/api/salvarJogos",{jogos:t}).then(e=>{r(""),c([]),i(0),p([]),e.data.error||toast.success(e.data.message)}).catch(e=>{console.log(e)})};return a.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg text-gray-600 dark:bg-slate-800 dark:text-slate-300"},a.createElement("div",{className:"p-3 sm:p-6 border-gray-200"},a.createElement("form",{onSubmit:u,className:"pb-8"},a.createElement("label",{className:"block mb-2"},a.createElement("span",{className:""},"URL:"),a.createElement("div",{className:"flex"},a.createElement("input",{name:"url",type:"text",placeholder:"Digite a url",className:"vb-custom-input mr-4",value:o,onChange:t=>r(t.target.value)}),a.createElement("button",{type:"submit",className:"btn-primary"},"Pesquisar"))),a.createElement("span",{className:"text-sm text-gray-500"},"https://api.globoesporte.globo.com/tabela/4b20b911-f174-4958-9be8-4033dc74f970/fase/primeira-fase-paulista-2023/rodada/1/jogos",a.createElement("br",null),"https://api.globoesporte.globo.com/tabela/d1a37fa4-e948-43a6-ba53-ab24ab3a45b1/fase/fase-unica-campeonato-brasileiro-2023/rodada/1/jogos")),d.length>0&&a.createElement("div",{className:"flex flex-col"},a.createElement("h3",{className:"font-bold"},"Times n\xE3o encontrados:"),d.map((t,e)=>a.createElement("span",{key:e},t))),n.length>0&&a.createElement("div",null,a.createElement("h2",{className:"text-xl mb-4 font-bold"},l.nome," - Rodada ",m),n.map((t,e)=>a.createElement("div",{key:e,className:"flex gap-1 mb-2 font-bold uppercase"},a.createElement("span",null,e+1," - "),a.createElement("span",null,t.horario),a.createElement("span",null,"-"),a.createElement("span",null,t.mandante.nome),a.createElement("span",null,"x"),a.createElement("span",null,t.visitante.nome))),a.createElement("div",{className:"py-4"},a.createElement("button",{type:"button",className:"btn-primary",onClick:b},"Salvar Jogos")))))};export{h as default};
